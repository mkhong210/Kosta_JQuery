<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API 연습</title>
    <!-- 25.04.02 -->

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
  </head>
  <body>
    <h1>API 연습</h1>
    <input type="text" id="search" />
    <button id="submit">검색</button>
    <p></p>
    <script>
      // $.ajax("요청정보").done("응답완료시 실행할 함수");
      // 기본 형식
      // $.ajax({
      //   method: "GET",
      //   url: "https://dapi.kakao.com/v3/search/book?target=title&query=나혼자파이썬",
      //   headers: { Authorization: "KakaoAK 00d7e49461f1e6b464979997cc9993f9" },
      // }).done(function (data) {
      //   // console.log(data);
      //   console.log(data.documents[0].title);
      //   console.log(data.documents[0].thumbnail);
      // });

      //
      // 책 검색
      // $("#submit").click(function () {
      //   $.ajax({
      //     method: "GET",
      //     url:
      //       "https://dapi.kakao.com/v3/search/book?target=title&query=" +
      //       $("#search").val(),
      //     headers: {
      //       Authorization: "KakaoAK 00d7e49461f1e6b464979997cc9993f9",
      //     },
      //   }).done(function (data) {
      //     // console.log(data);
      //     console.log(data.documents[0].title);
      //     console.log(data.documents[0].thumbnail);
      //     $("body").append("<span>" + data.documents[0].title + "</span>");
      //     $("body").append(
      //       "<img src = " + data.documents[0].thumbnail + "</img>"
      //     );
      //   });
      // });

      $("#submit").click(function () {
        $.ajax({
          method: "GET",
          url:
            "https://dapi.kakao.com/v2/search/image?query=" +
            $("#search").val(),
          headers: {
            Authorization: "KakaoAK 00d7e49461f1e6b464979997cc9993f9",
          },
        }).done(function (data) {
          console.log(data);
          console.log(data.documents[0].image_url);
          // console.log(data.documents[0].thumbnail);
          // $("body").append("<span>" + data.documents[0].title + "</span>");
          $("body").append("<img src = " + data.documents[1].image_url + ">");
        });
      });
    </script>
  </body>
</html>
